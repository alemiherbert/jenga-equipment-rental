<section class="container">
    <div class="carousel" x-data="carousel"
        x-on:resize.window.debounce="maxScroll = $refs.container.scrollWidth - $refs.container.clientWidth">

        <div class="carousel__heading">
            <h2>Browse Equipment Categories</h2>
            <p class="lead">From power tools to heavy machinery, find exactly what your project needs</p>
        </div>

        <div class="carousel__wrapper">
            <button class="carousel__button carousel__button--prev" x-show="scroll > 0" @click="scrollPrev"
                aria-label="Previous">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M15 18l-6-6 6-6" />
                </svg>
            </button>

            <div class="carousel__inner" x-ref="container" @scroll.debounce="handleScroll($event)">
                <div class="carousel__item">
                    <div class="category-card">
                        <h3 class="category-card__title">Earthmoving</h3>
                        <p class="category-card__description">Excavators, graders, wheelloaders</p>
                        <span class="category-card__count">45 items</span>
                    </div>
                </div>

                <div class="carousel__item">
                    <div class="category-card">
                        <h3 class="category-card__title">Material Handling</h3>
                        <p class="category-card__description">Cranes, Forklifts, Telehandlers and Hoists</p>
                        <span class="category-card__count">28 items</span>
                    </div>
                </div>

                <div class="carousel__item">
                    <div class="category-card">
                        <h3 class="category-card__title">Construction Vehicles</h3>
                        <p class="category-card__description">Dump truck, Concrete Mixer, Flatbed trucks</p>
                        <span class="category-card__count">36 items</span>
                    </div>
                </div>

                <div class="carousel__item">
                    <div class="category-card">
                        <h3 class="category-card__title">Compaction</h3>
                        <p class="category-card__description">Vibratory, Roller, Plate and Tandem Compactors</p>
                        <span class="category-card__count">32 items</span>
                    </div>
                </div>

                <div class="carousel__item">
                    <div class="category-card">
                        <h3 class="category-card__title">Paving and Concrete</h3>
                        <p class="category-card__description">Pavers, Concrete Pumps, Grinders and Vibrators</p>
                        <span class="category-card__count">24 items</span>
                    </div>
                </div>
            </div>

            <button class="carousel__button carousel__button--next" x-show="scroll < maxScroll" @click="scrollNext"
                aria-label="Next">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M9 18l6-6-6-6" />
                </svg>
            </button>
        </div>
    </div>
</section>